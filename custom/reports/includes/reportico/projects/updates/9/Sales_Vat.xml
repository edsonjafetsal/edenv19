<?xml version="1.0"?><Report><ReportQuery><Format><ReportTitle>SalesTaxDetail</ReportTitle><ReportDescription></ReportDescription><PageSize>A4</PageSize><PageOrientation>Portrait</PageOrientation><TopMargin></TopMargin><BottomMargin></BottomMargin><RightMargin></RightMargin><LeftMargin></LeftMargin><pdfFont></pdfFont><pdfFontSize></pdfFontSize><PreExecuteCode>if($this-&gt;target_format != 'PDF'){
$checks = $_criteria[&quot;Hidecolumns&quot;]-&gt;get_criteria_value(&quot;VALUE&quot;,false);

for ($ct = 0; $ct &lt; count($this-&gt;columns); $ct++)
{
    $col = $this-&gt;columns[$ct];
    if ( $col-&gt;query_name == &quot;facnum&quot; &amp;&amp;  preg_match(&quot;/[1]/is&quot;, $checks) )
    {
        $col-&gt;attributes[&quot;column_display&quot;] = &quot;hide&quot;;
     }
    if ( $col-&gt;query_name == &quot;total_ht&quot; &amp;&amp;  preg_match(&quot;/[2]/&quot;, $checks) )
    {
        $col-&gt;attributes[&quot;column_display&quot;] = &quot;hide&quot;;
     }
      if ( $col-&gt;query_name == &quot;total_vat&quot; &amp;&amp;  preg_match(&quot;/[3]/&quot;, $checks) )
    {
        $col-&gt;attributes[&quot;column_display&quot;] = &quot;hide&quot;;
     }
     if ( $col-&gt;query_name == &quot;total_ttc&quot; &amp;&amp; preg_match(&quot;/[4]/&quot;, $checks) )
    {
        $col-&gt;attributes[&quot;column_display&quot;] = &quot;hide&quot;;
     }
}
}</PreExecuteCode><formBetweenRows>solidline</formBetweenRows><gridDisplay>show</gridDisplay><gridSortable>yes</gridSortable><gridSearchable>yes</gridSearchable><gridPageable>.DEFAULT</gridPageable><gridPageSize>.DEFAULT</gridPageSize></Format><Datasource><SourceType>database</SourceType><SourceConnection><DatabaseType>mysql</DatabaseType><DatabaseName></DatabaseName><HostName></HostName><ServiceName></ServiceName><UserName></UserName><Password></Password></SourceConnection></Datasource><EntryForm><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection>all</RowSelection><SQL><QuerySql></QuerySql><SQLRaw>SELECT d.tva_tx as rate, sum(d.total_ht) as total_ht, sum(d.total_ttc) as total_ttc, sum(d.total_tva) as total_vat, sum(d.total_localtax1) as total_localtax1, sum(d.total_localtax2) as total_localtax2, f.facnumber as facnum
FROM llx_facture as f,
llx_facturedet as d 
WHERE 1 = 1    AND f.entity=1
AND f.fk_statut in (1,2)
AND f.type IN (0,1,2,3)
AND d.tva_tx IS NOT NULL
AND f.rowid = d.fk_facture GROUP BY d.tva_tx, f.facnumber</SQLRaw></SQL><QueryColumns><QueryColumn><Name>rate</Name><TableName></TableName><ColumnName>d.tva_tx as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>VAT</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>total_ht</Name><TableName></TableName><ColumnName>sum(d.total_ht) as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>TotalHT</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>total_ttc</Name><TableName></TableName><ColumnName>sum(d.total_ttc) as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Total</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>total_vat</Name><TableName></TableName><ColumnName>sum(d.total_tva) as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>VAT</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>total_localtax1</Name><TableName></TableName><ColumnName>sum(d.total_localtax1) as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>total_localtax2</Name><TableName></TableName><ColumnName>sum(d.total_localtax2) as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>IRPF</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>facnum</Name><TableName></TableName><ColumnName>f.facnumber as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Invoice</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>vat_by_rate</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Total</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>total_ht_by_rate</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Total</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>total_ttc_by_rate</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Total</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>total_localtax2_by_rate</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Total</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>total_total_ht</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Total</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>total_total_vat</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Total</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>total_total_ttc</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Total</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn></QueryColumns><OrderColumns></OrderColumns><PreSQLS></PreSQLS></Query><Assignments><Assignment><AssignName>vat_by_rate</AssignName><AssignNameNew></AssignNameNew><Expression>sum({total_vat},{rate})</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_ht_by_rate</AssignName><AssignNameNew></AssignNameNew><Expression>sum({total_ht},{rate})</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_localtax2_by_rate</AssignName><AssignNameNew></AssignNameNew><Expression>sum({total_localtax2},{rate})</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_ttc_by_rate</AssignName><AssignNameNew></AssignNameNew><Expression>sum({total_ttc},{rate})</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_total_ht</AssignName><AssignNameNew></AssignNameNew><Expression>sum({total_ht})</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_total_vat</AssignName><AssignNameNew></AssignNameNew><Expression>sum({total_vat})</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_total_ttc</AssignName><AssignNameNew></AssignNameNew><Expression>sum({total_ttc})</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_localtax2</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({total_localtax2},2,',',' ')</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_ht</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({total_ht},2,',',' ')</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_ttc</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({total_ttc},2,',',' ')</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_vat</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({total_vat},2,',',' ')</Expression><Condition></Condition></Assignment><Assignment><AssignName>vat_by_rate</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({vat_by_rate},2,',',' ')</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_ht_by_rate</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({total_ht_by_rate},2,',',' ')</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_ttc_by_rate</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({total_ttc_by_rate},2,',',' ')</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_localtax2_by_rate</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({localtax2_by_rate},2,',',' ')</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_total_ht</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({total_total_ht},2,',',' ')</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_total_vat</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({total_total_vat},2,',',' ')</Expression><Condition></Condition></Assignment><Assignment><AssignName>total_total_ttc</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({total_total_ttc},2,',',' ')</Expression><Condition></Condition></Assignment><Assignment><AssignName>rate</AssignName><AssignNameNew></AssignNameNew><Expression>apply_style('PAGE', 'border-style', 'solid');apply_style('PAGE', 'border-width', '1 1 1 1');apply_style('PAGE', 'border-color', '#222222');apply_style('PAGE', 'background-color', '#f3fff3');</Expression><Condition></Condition></Assignment><Assignment><AssignName>rate</AssignName><AssignNameNew></AssignNameNew><Expression>apply_style('ROW', 'background-color', '#e0e0ff');</Expression><Condition></Condition></Assignment><Assignment><AssignName>rate</AssignName><AssignNameNew></AssignNameNew><Expression> apply_style('ROW', 'background-color', '#eeeeff') </Expression><Condition>( lineno() % 2 == 1 ) </Condition></Assignment><Assignment><AssignName>facnum</AssignName><AssignNameNew></AssignNameNew><Expression>embed_hyperlink({facnum}, 'compta/facture.php?facnumber='.{facnum}.'')</Expression><Condition></Condition></Assignment></Assignments><Criteria><CriteriaItem><Name>FechaFactura</Name><Title>Interval</Title><QueryTableName></QueryTableName><QueryColumnName>DATE(f.datef)</QueryColumnName><CriteriaType>DATERANGE</CriteriaType><CriteriaDisplay>NOINPUT</CriteriaDisplay><ExpandDisplay>NOINPUT</ExpandDisplay><ReturnColumn></ReturnColumn><DisplayColumn></DisplayColumn><OverviewColumn></OverviewColumn><MatchColumn></MatchColumn><CriteriaDefaults>FIRSTOFMONTH-LASTOFMONTH</CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQLRaw></SQLRaw><SQL><QuerySql></QuerySql></SQL><QueryColumns></QueryColumns><OrderColumns></OrderColumns><Assignments></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem><CriteriaItem><Name>Hidecolumns</Name><Title>HideColumns</Title><QueryTableName></QueryTableName><QueryColumnName></QueryColumnName><CriteriaType>LIST</CriteriaType><CriteriaDisplay>CHECKBOX</CriteriaDisplay><ExpandDisplay>NOINPUT</ExpandDisplay><ReturnColumn></ReturnColumn><DisplayColumn></DisplayColumn><OverviewColumn></OverviewColumn><MatchColumn></MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList>Invoice=1,TotalHT=2,VAT=3,Total=4</CriteriaList><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQLRaw></SQLRaw><SQL><QuerySql></QuerySql></SQL><QueryColumns></QueryColumns><OrderColumns></OrderColumns><Assignments></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem></Criteria><Output><PageHeaders></PageHeaders><PageFooters></PageFooters><DisplayOrders><DisplayOrder><ColumnName>rate</ColumnName><OrderNumber>1</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>facnum</ColumnName><OrderNumber>2</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>total_ht</ColumnName><OrderNumber>3</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>total_vat</ColumnName><OrderNumber>4</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>total_localtax1</ColumnName><OrderNumber>5</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>total_localtax2</ColumnName><OrderNumber>6</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>total_ttc</ColumnName><OrderNumber>7</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>vat_by_rate</ColumnName><OrderNumber>8</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>total_ht_by_rate</ColumnName><OrderNumber>9</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>total_ttc_by_rate</ColumnName><OrderNumber>10</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>total_localtax2_by_rate</ColumnName><OrderNumber>11</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>total_total_ht</ColumnName><OrderNumber>12</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>total_total_vat</ColumnName><OrderNumber>13</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>total_total_ttc</ColumnName><OrderNumber>14</OrderNumber></DisplayOrder></DisplayOrders><Groups><Group><GroupName>REPORT_BODY</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders></GroupHeaders><GroupTrailers><GroupTrailer><GroupTrailerDisplayColumn>total_ht</GroupTrailerDisplayColumn><GroupTrailerValueColumn>total_total_ht</GroupTrailerValueColumn><GroupTrailerCustom></GroupTrailerCustom></GroupTrailer><GroupTrailer><GroupTrailerDisplayColumn>total_vat</GroupTrailerDisplayColumn><GroupTrailerValueColumn>total_total_vat</GroupTrailerValueColumn><GroupTrailerCustom></GroupTrailerCustom></GroupTrailer><GroupTrailer><GroupTrailerDisplayColumn>total_ttc</GroupTrailerDisplayColumn><GroupTrailerValueColumn>total_total_ttc</GroupTrailerValueColumn><GroupTrailerCustom></GroupTrailerCustom></GroupTrailer></GroupTrailers></Group><Group><GroupName>rate</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders><GroupHeader><GroupHeaderColumn>rate</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader></GroupHeaders><GroupTrailers><GroupTrailer><GroupTrailerDisplayColumn>total_vat</GroupTrailerDisplayColumn><GroupTrailerValueColumn>vat_by_rate</GroupTrailerValueColumn><GroupTrailerCustom></GroupTrailerCustom></GroupTrailer><GroupTrailer><GroupTrailerDisplayColumn>total_ht</GroupTrailerDisplayColumn><GroupTrailerValueColumn>total_ht_by_rate</GroupTrailerValueColumn><GroupTrailerCustom></GroupTrailerCustom></GroupTrailer><GroupTrailer><GroupTrailerDisplayColumn>total_ttc</GroupTrailerDisplayColumn><GroupTrailerValueColumn>total_ttc_by_rate</GroupTrailerValueColumn><GroupTrailerCustom></GroupTrailerCustom></GroupTrailer><GroupTrailer><GroupTrailerDisplayColumn>total_localtax2</GroupTrailerDisplayColumn><GroupTrailerValueColumn>total_localtax2_by_rate</GroupTrailerValueColumn><GroupTrailerCustom></GroupTrailerCustom></GroupTrailer></GroupTrailers></Group></Groups><Graphs></Graphs></Output></EntryForm></ReportQuery></Report>