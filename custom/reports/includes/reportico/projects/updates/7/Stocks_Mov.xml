<?xml version="1.0"?><Report><ReportQuery><Format><ReportTitle>StockMovements</ReportTitle><ReportDescription></ReportDescription><PageSize>A4</PageSize><PageOrientation>Portrait</PageOrientation><TopMargin></TopMargin><BottomMargin></BottomMargin><RightMargin></RightMargin><LeftMargin></LeftMargin><pdfFont></pdfFont><pdfFontSize></pdfFontSize><PreExecuteCode>if($this-&gt;target_format != 'PDF'){
$checks = $_criteria[&quot;Hidecolumns&quot;]-&gt;get_criteria_value(&quot;VALUE&quot;,false);

for ($ct = 0; $ct &lt; count($this-&gt;columns); $ct++)
{
    $col = $this-&gt;columns[$ct];
    if ( $col-&gt;query_name == &quot;warehouse&quot; &amp;&amp; preg_match(&quot;/[1]/&quot;, $checks) )
    {
        $col-&gt;attributes[&quot;column_display&quot;] = &quot;hide&quot;;
     }
    if ( $col-&gt;query_name == &quot;category&quot; &amp;&amp; preg_match(&quot;/[2]/&quot;, $checks) )
    {
        $col-&gt;attributes[&quot;column_display&quot;] = &quot;hide&quot;;
     }
     if ( $col-&gt;query_name == &quot;ref&quot; &amp;&amp; preg_match(&quot;/[3]/&quot;, $checks) )
    {
        $col-&gt;attributes[&quot;column_display&quot;] = &quot;hide&quot;;
     }
     if ( $col-&gt;query_name == &quot;label&quot; &amp;&amp; preg_match(&quot;/[4]/&quot;, $checks) )
    {
        $col-&gt;attributes[&quot;column_display&quot;] = &quot;hide&quot;;
     }
     if ( $col-&gt;query_name == &quot;entry&quot; &amp;&amp; preg_match(&quot;/[5]/&quot;, $checks) )
    {
        $col-&gt;attributes[&quot;column_display&quot;] = &quot;hide&quot;;
     }
     if ( $col-&gt;query_name == &quot;output&quot; &amp;&amp; preg_match(&quot;/[6]/&quot;, $checks) )
    {
        $col-&gt;attributes[&quot;column_display&quot;] = &quot;hide&quot;;
     }
}
}</PreExecuteCode><formBetweenRows>solidline</formBetweenRows><gridDisplay>show</gridDisplay><gridSortable>yes</gridSortable><gridSearchable>yes</gridSearchable><gridPageable>.DEFAULT</gridPageable><gridPageSize>.DEFAULT</gridPageSize></Format><Datasource><SourceType>database</SourceType><SourceConnection><DatabaseType>mysql</DatabaseType><DatabaseName></DatabaseName><HostName></HostName><ServiceName></ServiceName><UserName></UserName><Password></Password></SourceConnection></Datasource><EntryForm><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection>all</RowSelection><SQL><QuerySql></QuerySql><SQLRaw>SELECT DISTINCT e.ref as warehouse, c.label as category, p.ref as ref, p.label as label, sum(if(sm.value &gt; 0, sm.value, 0)) as entry, sum(if(sm.value &lt; 0, sm.value, 0)) as output, e.rowid as wareid, c.rowid as catid, p.rowid prodid
FROM llx_stock_mouvement as sm,
    llx_entrepot as e,
    llx_product as p
        left join
    llx_categorie_product as cp ON p.rowid = cp.fk_product
        left join
    llx_categorie as c ON c.rowid = cp.fk_categorie 
WHERE 1 = 1  AND e.rowid = sm.fk_entrepot AND p.rowid = sm.fk_product
        AND e.entity=1 GROUP BY sm.fk_entrepot , sm.fk_product 
ORDER BY  ref ASC</SQLRaw></SQL><QueryColumns><QueryColumn><Name>warehouse</Name><TableName></TableName><ColumnName>DISTINCT e.ref as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF>2cm</ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Warehouse</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>category</Name><TableName></TableName><ColumnName>c.label as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF>4cm</ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Category</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>ref</Name><TableName></TableName><ColumnName>p.ref as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF>4cm</ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Ref</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>label</Name><TableName></TableName><ColumnName>p.label as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Label</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>entry</Name><TableName></TableName><ColumnName>sum(if(sm.value &gt; 0, sm.value, 0)) as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF>2cm</ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Entry</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>output</Name><TableName></TableName><ColumnName>sum(if(sm.value &lt; 0, sm.value, 0)) as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF>2cm</ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Output</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>wareid</Name><TableName></TableName><ColumnName>e.rowid as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>catid</Name><TableName></TableName><ColumnName>c.rowid as</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>prodid</Name><TableName>p</TableName><ColumnName>rowid</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn></QueryColumns><OrderColumns></OrderColumns><PreSQLS></PreSQLS></Query><Assignments><Assignment><AssignName>warehouse</AssignName><AssignNameNew></AssignNameNew><Expression>apply_style('PAGE', 'border-style', 'solid');apply_style('PAGE', 'border-width', '1 1 1 1');apply_style('PAGE', 'border-color', '#222222');apply_style('PAGE', 'background-color', '#f3fff3');</Expression><Condition></Condition></Assignment><Assignment><AssignName>warehouse</AssignName><AssignNameNew></AssignNameNew><Expression>apply_style('ROW', 'background-color', '#e0e0ff');</Expression><Condition></Condition></Assignment><Assignment><AssignName>warehouse</AssignName><AssignNameNew></AssignNameNew><Expression> apply_style('ROW', 'background-color', '#eeeeff') </Expression><Condition>( lineno() % 2 == 1 ) </Condition></Assignment><Assignment><AssignName>ref</AssignName><AssignNameNew></AssignNameNew><Expression>embed_hyperlink({ref}, 'product/card.php?id='.{prodid}.'')</Expression><Condition></Condition></Assignment><Assignment><AssignName>warehouse</AssignName><AssignNameNew></AssignNameNew><Expression>embed_hyperlink({warehouse}, 'product/stock/card.php?id='.{wareid}.'')</Expression><Condition></Condition></Assignment><Assignment><AssignName>category</AssignName><AssignNameNew></AssignNameNew><Expression>embed_hyperlink({category}, 'categories/viewcat.php?type=0&amp;id='.{catid}.'')</Expression><Condition></Condition></Assignment></Assignments><Criteria><CriteriaItem><Name>Date</Name><Title>Date</Title><QueryTableName></QueryTableName><QueryColumnName>DATE(sm.datem)</QueryColumnName><CriteriaType>DATERANGE</CriteriaType><CriteriaDisplay>NOINPUT</CriteriaDisplay><ExpandDisplay>NOINPUT</ExpandDisplay><ReturnColumn></ReturnColumn><DisplayColumn></DisplayColumn><OverviewColumn></OverviewColumn><MatchColumn></MatchColumn><CriteriaDefaults>FIRSTOFMONTH-LASTOFMONTH</CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQLRaw></SQLRaw><SQL><QuerySql></QuerySql></SQL><QueryColumns></QueryColumns><OrderColumns></OrderColumns><Assignments></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem><CriteriaItem><Name>Almacen</Name><Title>Warehouse</Title><QueryTableName></QueryTableName><QueryColumnName>e.rowid</QueryColumnName><CriteriaType>LOOKUP</CriteriaType><CriteriaDisplay>CHECKBOX</CriteriaDisplay><ExpandDisplay>NOINPUT</ExpandDisplay><ReturnColumn>rowid</ReturnColumn><DisplayColumn>lieu</DisplayColumn><OverviewColumn>rowid</OverviewColumn><MatchColumn>lieu</MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQLRaw>SELECT ref descripcion, ref lieu, rowid rowid 
FROM llx_entrepot 
WHERE 1 = 1  AND entity=1  
ORDER BY  lieu </SQLRaw><SQL><QuerySql></QuerySql></SQL><QueryColumns><QueryColumn><Name>descripcion</Name><TableName></TableName><ColumnName>ref</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>lieu</Name><TableName></TableName><ColumnName>ref</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>rowid</Name><TableName></TableName><ColumnName>rowid</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>warehouse</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn></QueryColumns><OrderColumns></OrderColumns><Assignments></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem><CriteriaItem><Name>Category</Name><Title>Category</Title><QueryTableName></QueryTableName><QueryColumnName>c.rowid</QueryColumnName><CriteriaType>LOOKUP</CriteriaType><CriteriaDisplay>TEXTFIELD</CriteriaDisplay><ExpandDisplay>MULTI</ExpandDisplay><ReturnColumn>rowid</ReturnColumn><DisplayColumn>label</DisplayColumn><OverviewColumn>label</OverviewColumn><MatchColumn>label</MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql>llx_categorie as c</TableSql><WhereSql>  AND c.type = 0 AND entity=1  </WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQLRaw></SQLRaw><SQL><QuerySql></QuerySql></SQL><QueryColumns><QueryColumn><Name>rowid</Name><TableName>c</TableName><ColumnName>rowid</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>label</Name><TableName>c</TableName><ColumnName>label</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn></QueryColumns><OrderColumns></OrderColumns><Assignments></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem><CriteriaItem><Name>Hidecolumns</Name><Title>HideColumns</Title><QueryTableName></QueryTableName><QueryColumnName></QueryColumnName><CriteriaType>LIST</CriteriaType><CriteriaDisplay>CHECKBOX</CriteriaDisplay><ExpandDisplay>NOINPUT</ExpandDisplay><ReturnColumn></ReturnColumn><DisplayColumn></DisplayColumn><OverviewColumn></OverviewColumn><MatchColumn></MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList>Warehouse=1,Category=2,Ref=3,Label=4,Entry=5,Output=6</CriteriaList><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQLRaw></SQLRaw><SQL><QuerySql></QuerySql></SQL><QueryColumns></QueryColumns><OrderColumns></OrderColumns><Assignments></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem></Criteria><Output><PageHeaders></PageHeaders><PageFooters></PageFooters><DisplayOrders><DisplayOrder><ColumnName>warehouse</ColumnName><OrderNumber>1</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>category</ColumnName><OrderNumber>2</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>ref</ColumnName><OrderNumber>3</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>label</ColumnName><OrderNumber>4</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>entry</ColumnName><OrderNumber>5</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>output</ColumnName><OrderNumber>6</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>wareid</ColumnName><OrderNumber>7</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>catid</ColumnName><OrderNumber>8</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>prodid</ColumnName><OrderNumber>9</OrderNumber></DisplayOrder></DisplayOrders><Groups><Group><GroupName>REPORT_BODY</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders></GroupHeaders><GroupTrailers></GroupTrailers></Group><Group><GroupName>ref</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders><GroupHeader><GroupHeaderColumn>ref</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader><GroupHeader><GroupHeaderColumn>label</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader><GroupHeader><GroupHeaderColumn>category</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader></GroupHeaders><GroupTrailers></GroupTrailers></Group></Groups><Graphs></Graphs></Output></EntryForm></ReportQuery></Report>