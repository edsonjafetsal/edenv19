<?xml version="1.0"?><Report><ReportQuery><Format><ReportTitle>BOM</ReportTitle><ReportDescription></ReportDescription><PageSize>.DEFAULT</PageSize><PageOrientation>.DEFAULT</PageOrientation><TopMargin></TopMargin><BottomMargin></BottomMargin><RightMargin></RightMargin><LeftMargin></LeftMargin><pdfFont></pdfFont><pdfFontSize></pdfFontSize><PreExecuteCode>NONE</PreExecuteCode><formBetweenRows>solidline</formBetweenRows><gridDisplay>show</gridDisplay><gridSortable>.DEFAULT</gridSortable><gridSearchable>.DEFAULT</gridSearchable><gridPageable>.DEFAULT</gridPageable><gridPageSize>.DEFAULT</gridPageSize></Format><Datasource><SourceType>database</SourceType><SourceConnection><DatabaseType>mysql</DatabaseType><DatabaseName></DatabaseName><HostName></HostName><ServiceName></ServiceName><UserName></UserName><Password></Password></SourceConnection></Datasource><EntryForm><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection>all</RowSelection><SQL><QuerySql></QuerySql><SQLRaw>SELECT DISTINCT  p.rowid AS pid, bom.rowid AS bomid, bom.date_creation AS creation,  bom.ref AS bom, bom.label AS bomlabrl, bom.qty AS bomqty,
SEC_TO_TIME(bom.duration) AS bomdur,
CASE(bom.status) WHEN '0' THEN 'draft' WHEN '1' THEN 'Enabled' 
END AS status, p.ref AS proref, p.label AS prolabel, bl.qty AS lineqty, IFNULL(bl.qty,0) AS lineqty2, IFNULL(p.cost_price,0) AS proprice, IFNULL(p.cost_price,0) AS proprice2,
IFNULL(((p.cost_price)*(bl.qty)),0)  AS  boto, IFNULL(nt.neto, 0) AS tot, pr.ref AS bom_product, p.price AS sell_price, pr.cost_price AS bom_product_cost_price, bom.qty AS bom_qty
FROM llxas_bom_bom AS bom
LEFT JOIN llxas_bom_bomline AS bl ON bom.rowid = bl.fk_bom 
LEFT JOIN llxas_product AS p ON  bl.fk_product = p.rowid 
LEFT JOIN llxas_product_extrafields AS pex ON p.rowid = pex.fk_object 
LEFT JOIN llxas_product AS pr ON  bom.fk_product = pr.rowid 
LEFT JOIN voto AS vt ON vt.id = bom.rowid
LEFT JOIN weto AS wt ON wt.id = bom.rowid
LEFT JOIN suto AS st ON st.id = bom.rowid
LEFT JOIN heto AS ht ON ht.id = bom.rowid
LEFT JOIN wito AS wit ON wit.id = bom.rowid
LEFT JOIN leto AS lt ON lt.id = bom.rowid
LEFT JOIN neto AS nt ON nt.id = bom.rowid
LEFT JOIN toto AS tt ON tt.id = bom.rowid
ORDER BY bom.ref, bl.rowid
</SQLRaw></SQL><QueryColumns><QueryColumn><Name>pid</Name><TableName></TableName><ColumnName>DISTINCT  p.rowid AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>bomid</Name><TableName></TableName><ColumnName>bom.rowid AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>creation</Name><TableName></TableName><ColumnName>bom.date_creation AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>bom</Name><TableName></TableName><ColumnName>bom.ref AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>BOM Ref</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>bomlabrl</Name><TableName></TableName><ColumnName>bom.label AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>bomqty</Name><TableName></TableName><ColumnName>bom.qty AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>bomdur</Name><TableName></TableName><ColumnName>SEC_TO_TIME(bom.duration) AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>status</Name><TableName></TableName><ColumnName>CASE(bom.status) WHEN '0' THEN 'draft' WHEN '1' THEN 'Enabled' 
END AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>proref</Name><TableName></TableName><ColumnName>p.ref AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>RM Ref</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>prolabel</Name><TableName></TableName><ColumnName>p.label AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Raw Material Label</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>lineqty</Name><TableName></TableName><ColumnName>bl.qty AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>center</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Qty</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>lineqty2</Name><TableName></TableName><ColumnName>IFNULL(bl.qty,0) AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>proprice</Name><TableName></TableName><ColumnName>IFNULL(p.cost_price,0) AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>center</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Cost Price</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>proprice2</Name><TableName></TableName><ColumnName>IFNULL(p.cost_price,0) AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>boto</Name><TableName></TableName><ColumnName>IFNULL(((p.cost_price)*(bl.qty)),0)  AS </ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>center</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Cost</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>tot</Name><TableName></TableName><ColumnName>IFNULL(nt.neto, 0) AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>bom_product</Name><TableName></TableName><ColumnName>pr.ref AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>sell_price</Name><TableName></TableName><ColumnName>p.price AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>center</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>bom_product_cost_price</Name><TableName></TableName><ColumnName>pr.cost_price AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>bom_qty</Name><TableName></TableName><ColumnName>bom.qty AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>sumline</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>Bom Total</group_trailer_label></Format></QueryColumn><QueryColumn><Name>sumlineto</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>Grand Total</group_trailer_label></Format></QueryColumn><QueryColumn><Name>sumproprice</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>supropriceto</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>sumboto</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>Total Cost</group_trailer_label></Format></QueryColumn></QueryColumns><OrderColumns></OrderColumns><PreSQLS><PreSQL><SQLText>CREATE TEMPORARY TABLE voto (id INT(11), voto DECIMAL(12,2))</SQLText></PreSQL><PreSQL><SQLText>INSERT INTO voto (id, voto)
SELECT DISTINCT bom.rowid AS id,
SUM((p.cost_price)/(p.volume)*(bl.qty)) AS  voto
FROM llxas_bom_bom AS bom
LEFT JOIN llxas_bom_bomline AS bl ON bom.rowid = bl.fk_bom 
LEFT JOIN llxas_product AS p ON  bl.fk_product = p.rowid 
LEFT JOIN llxas_product_extrafields AS pex ON p.rowid = pex.fk_object 
WHERE p.volume IS NOT NULL AND p.volume NOT IN (0) 
GROUP BY bom.rowid 
ORDER BY bom.ref, bl.rowid;
</SQLText></PreSQL><PreSQL><SQLText>CREATE TEMPORARY TABLE weto (id INT(11), weto DECIMAL(12,2))</SQLText></PreSQL><PreSQL><SQLText>INSERT INTO weto (id, weto)
SELECT DISTINCT bom.rowid AS id,
SUM((p.cost_price)/(p.weight)*(bl.qty)) AS  weto
FROM llxas_bom_bom AS bom
LEFT JOIN llxas_bom_bomline AS bl ON bom.rowid = bl.fk_bom 
LEFT JOIN llxas_product AS p ON  bl.fk_product = p.rowid 
LEFT JOIN llxas_product_extrafields AS pex ON p.rowid = pex.fk_object 
WHERE p.weight  IS NOT NULL AND p.weight NOT IN (0)
GROUP BY bom.rowid
ORDER BY bom.ref, bl.rowid;</SQLText></PreSQL><PreSQL><SQLText>CREATE TEMPORARY TABLE suto (id INT(11), suto DECIMAL(12,2))</SQLText></PreSQL><PreSQL><SQLText>INSERT INTO suto (id, suto)
SELECT DISTINCT bom.rowid AS id,
SUM(p.cost_price)/(p.surface)*(bl.qty) AS  suto
FROM llxas_bom_bom AS bom
LEFT JOIN llxas_bom_bomline AS bl ON bom.rowid = bl.fk_bom 
LEFT JOIN llxas_product AS p ON  bl.fk_product = p.rowid 
LEFT JOIN llxas_product_extrafields AS pex ON p.rowid = pex.fk_object 
WHERE p.surface  IS NOT NULL AND p.surface NOT IN (0)
GROUP BY bom.rowid 
ORDER BY bom.ref, bl.rowid;
</SQLText></PreSQL><PreSQL><SQLText>CREATE TEMPORARY TABLE heto (id INT(11), heto DECIMAL(12,2))</SQLText></PreSQL><PreSQL><SQLText>INSERT INTO heto (id, heto)
SELECT DISTINCT bom.rowid AS id,
SUM(p.cost_price)/(p.height)*(bl.qty) AS  heto
FROM llxas_bom_bom AS bom
LEFT JOIN llxas_bom_bomline AS bl ON bom.rowid = bl.fk_bom 
LEFT JOIN llxas_product AS p ON  bl.fk_product = p.rowid 
LEFT JOIN llxas_product_extrafields AS pex ON p.rowid = pex.fk_object 
WHERE p.height  IS NOT NULL AND p.height NOT IN (0)
GROUP BY bom.rowid 
ORDER BY bom.ref, bl.rowid</SQLText></PreSQL><PreSQL><SQLText>CREATE TEMPORARY TABLE wito (id INT(11), wito DECIMAL(12,2))</SQLText></PreSQL><PreSQL><SQLText>INSERT INTO wito (id, wito)
SELECT DISTINCT bom.rowid AS id,
SUM(p.cost_price)/(p.width)*(bl.qty) AS  wito
FROM llxas_bom_bom AS bom
LEFT JOIN llxas_bom_bomline AS bl ON bom.rowid = bl.fk_bom 
LEFT JOIN llxas_product AS p ON  bl.fk_product = p.rowid 
LEFT JOIN llxas_product_extrafields AS pex ON p.rowid = pex.fk_object 
WHERE p.weight  IS NOT NULL AND p.weight NOT IN (0)
GROUP BY bom.rowid 
ORDER BY bom.ref, bl.rowid;</SQLText></PreSQL><PreSQL><SQLText>CREATE TEMPORARY TABLE leto (id INT(11), leto DECIMAL(12,2))</SQLText></PreSQL><PreSQL><SQLText>INSERT INTO leto (id, leto)
SELECT DISTINCT bom.rowid AS id,
SUM(p.cost_price)/(p.length)*(bl.qty) AS  leto
FROM llxas_bom_bom AS bom
LEFT JOIN llxas_bom_bomline AS bl ON bom.rowid = bl.fk_bom 
LEFT JOIN llxas_product AS p ON  bl.fk_product = p.rowid 
LEFT JOIN llxas_product_extrafields AS pex ON p.rowid = pex.fk_object 
WHERE p.length  IS NOT NULL AND p.length NOT IN (0)
GROUP BY bom.rowid 
ORDER BY bom.ref, bl.rowid</SQLText></PreSQL><PreSQL><SQLText>CREATE TEMPORARY TABLE neto (id INT(11), neto DECIMAL(12,2))</SQLText></PreSQL><PreSQL><SQLText>INSERT INTO neto (id, neto)
SELECT DISTINCT bom.rowid AS id,
SUM((p.cost_price)*(bl.qty)) AS  neto
FROM llxas_bom_bom AS bom
LEFT JOIN llxas_bom_bomline AS bl ON bom.rowid = bl.fk_bom 
LEFT JOIN llxas_product AS p ON  bl.fk_product = p.rowid 
LEFT JOIN llxas_product_extrafields AS pex ON p.rowid = pex.fk_object 
WHERE 1 = 1
GROUP BY bom.rowid 
ORDER BY bom.ref, bl.rowid;
</SQLText></PreSQL><PreSQL><SQLText>CREATE TEMPORARY TABLE toto (id INT(11), toto DECIMAL(12,4))
</SQLText></PreSQL><PreSQL><SQLText>INSERT INTO toto (id, toto)
SELECT bom.rowid As id, ((vt.voto)+(wt.weto)) AS toto
FROM llx_bom_bom AS bom
LEFT JOIN voto AS vt ON vt.id = bom.rowid
LEFT JOIN weto AS wt ON wt.id = bom.rowid
GROUP BY. bom.rowid</SQLText></PreSQL></PreSQLS></Query><Assignments><Assignment><AssignName>creation</AssignName><AssignNameNew></AssignNameNew><Expression>apply_style('PAGE', 'border-style', 'solid');apply_style('PAGE', 'border-width', '1 1 1                        1');apply_style('PAGE', 'border-color', '#222222');apply_style('PAGE', 'background-color',                        '#f3fff3');                    </Expression><Condition></Condition></Assignment><Assignment><AssignName>creation</AssignName><AssignNameNew></AssignNameNew><Expression>apply_style('ROW', 'background-color', '#ddddff');</Expression><Condition></Condition></Assignment><Assignment><AssignName>creation</AssignName><AssignNameNew></AssignNameNew><Expression>apply_style('ROW', 'background-color', '#eeeeff')</Expression><Condition>( lineno() % 2 == 1 )</Condition></Assignment><Assignment><AssignName>bom</AssignName><AssignNameNew></AssignNameNew><Expression>embed_hyperlink({bom}, 'bom/bom_card.php?id='.{bomid}.'')</Expression><Condition></Condition></Assignment><Assignment><AssignName>proref</AssignName><AssignNameNew></AssignNameNew><Expression>embed_hyperlink({proref}, 'product/card.php?id='.{pid}.'')</Expression><Condition></Condition></Assignment><Assignment><AssignName>lineqty</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({lineqty},0,'',',')</Expression><Condition></Condition></Assignment><Assignment><AssignName>sumline</AssignName><AssignNameNew></AssignNameNew><Expression>sum({lineqty2},{bom})</Expression><Condition></Condition></Assignment><Assignment><AssignName>sumlineto</AssignName><AssignNameNew></AssignNameNew><Expression>sum({lineqty2})</Expression><Condition></Condition></Assignment><Assignment><AssignName>sumline</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({sumline},0,'.',',')</Expression><Condition></Condition></Assignment><Assignment><AssignName>sumlineto</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({sumlineto},0,'.',',')</Expression><Condition></Condition></Assignment><Assignment><AssignName>proprice</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({proprice},2,'.',',')</Expression><Condition></Condition></Assignment><Assignment><AssignName>sumproprice</AssignName><AssignNameNew></AssignNameNew><Expression>sum({proprice},{bom})</Expression><Condition></Condition></Assignment><Assignment><AssignName>supropriceto</AssignName><AssignNameNew></AssignNameNew><Expression>sum({proprice})</Expression><Condition></Condition></Assignment><Assignment><AssignName>sumboto</AssignName><AssignNameNew></AssignNameNew><Expression>sum({boto},{bom})</Expression><Condition>{boto} &lt;&gt; 0</Condition></Assignment><Assignment><AssignName>boto</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({boto},4,'.',',')</Expression><Condition>{boto} &lt;&gt; 0</Condition></Assignment><Assignment><AssignName>sumboto</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({sumboto},3,'.',',')</Expression><Condition>{sumboto} &lt;&gt; 0</Condition></Assignment><Assignment><AssignName>tot</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({tot},2,'.',',')</Expression><Condition></Condition></Assignment><Assignment><AssignName>boto</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({boto},2,'.',',')</Expression><Condition></Condition></Assignment><Assignment><AssignName>bom_product_cost_price</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({bom_product_cost_price},2,'.',',')</Expression><Condition></Condition></Assignment><Assignment><AssignName>sell_price</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({sell_price},2,'.',',')</Expression><Condition></Condition></Assignment><Assignment><AssignName>bom_qty</AssignName><AssignNameNew></AssignNameNew><Expression>number_format({bom_qty}, 0, &quot;&quot;, &quot;,&quot;)</Expression><Condition></Condition></Assignment></Assignments><Criteria><CriteriaItem><Name>bom</Name><Title>Bom</Title><QueryTableName></QueryTableName><QueryColumnName>bom.rowid</QueryColumnName><CriteriaType>LOOKUP</CriteriaType><CriteriaDisplay>TEXTFIELD</CriteriaDisplay><ExpandDisplay>MULTI</ExpandDisplay><ReturnColumn>rowid</ReturnColumn><DisplayColumn>ref</DisplayColumn><OverviewColumn>ref</OverviewColumn><MatchColumn>ref</MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQLRaw>SELECT b.rowid, b.ref
FROM  llx_bom_bom AS b
WHERE 1 = 1  </SQLRaw><SQL><QuerySql></QuerySql></SQL><QueryColumns><QueryColumn><Name>rowid</Name><TableName>b</TableName><ColumnName>rowid</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>ref</Name><TableName>b</TableName><ColumnName>ref</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn></QueryColumns><OrderColumns></OrderColumns><Assignments></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem><CriteriaItem><Name>proc</Name><Title>Raw Material</Title><QueryTableName></QueryTableName><QueryColumnName>p.rowid</QueryColumnName><CriteriaType>LOOKUP</CriteriaType><CriteriaDisplay>TEXTFIELD</CriteriaDisplay><ExpandDisplay>MULTI</ExpandDisplay><ReturnColumn>rowid</ReturnColumn><DisplayColumn>prod</DisplayColumn><OverviewColumn>prod</OverviewColumn><MatchColumn>label</MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQLRaw>SELECT p.rowid, CONCAT_WS('-&gt;', p.ref, p.label) AS prod, p.label
FROM llx_bom_bom AS bom
LEFT JOIN llx_bom_bomline AS bl ON bom.rowid = bl.fk_bom 
LEFT JOIN llx_product AS p ON  bl.fk_product = p.rowid 
WHERE 1=1 AND p.finished = 0</SQLRaw><SQL><QuerySql></QuerySql></SQL><QueryColumns><QueryColumn><Name>rowid</Name><TableName>p</TableName><ColumnName>rowid</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>prod</Name><TableName></TableName><ColumnName>CONCAT_WS('-&gt;', p.ref, p.label) AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>label</Name><TableName>p</TableName><ColumnName>label</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn></QueryColumns><OrderColumns></OrderColumns><Assignments></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem><CriteriaItem><Name>bompro</Name><Title>BOM product</Title><QueryTableName></QueryTableName><QueryColumnName>bom.fk_product</QueryColumnName><CriteriaType>LOOKUP</CriteriaType><CriteriaDisplay>TEXTFIELD</CriteriaDisplay><ExpandDisplay>MULTI</ExpandDisplay><ReturnColumn>id</ReturnColumn><DisplayColumn>prod</DisplayColumn><OverviewColumn>prod</OverviewColumn><MatchColumn>prod</MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQLRaw>SELECT bom.fk_product AS id, CONCAT_WS('-&gt;', p.ref, p.label) AS prod, p.label
FROM llx_bom_bom AS bom
LEFT JOIN llx_bom_bomline AS bl ON bom.rowid = bl.fk_bom 
LEFT JOIN llx_product AS p ON  bl.fk_product = p.rowid 
WHERE 1 = 1  AND bom.fk_product IS NOT NULL
GROUP BY bom.fk_product</SQLRaw><SQL><QuerySql></QuerySql></SQL><QueryColumns><QueryColumn><Name>id</Name><TableName></TableName><ColumnName>bom.fk_product AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>prod</Name><TableName></TableName><ColumnName>CONCAT_WS('-&gt;', p.ref, p.label) AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>label</Name><TableName>p</TableName><ColumnName>label</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn></QueryColumns><OrderColumns></OrderColumns><Assignments></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem></Criteria><Output><PageHeaders><PageHeader><LineNumber>1</LineNumber><HeaderText>{REPORT_TITLE}{STYLE border-width: 1 0 1 0; margin: 15px 0px 0px 0px; border-color: #000000; font-size: 18; border-style: solid;padding:5px 0px 5px 0px; height:1cm; background-color: #000000; color: #ffffff; text-align: center}</HeaderText><Format><ColumnStartPDF></ColumnStartPDF><justify>center</justify><ColumnWidthPDF></ColumnWidthPDF><ShowInPDF>yes</ShowInPDF><ShowInHTML>no</ShowInHTML></Format></PageHeader><PageHeader><LineNumber>1</LineNumber><HeaderText>Time: date('Y-m-d H:i:s'){STYLE font-size: 10; text-align: right; font-style: italic;}</HeaderText><Format><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ShowInPDF>yes</ShowInPDF><ShowInHTML>no</ShowInHTML></Format></PageHeader></PageHeaders><PageFooters><PageFooter><LineNumber>2</LineNumber><FooterText>Page: {PAGE}{STYLE border-width: 1 0 0 0; margin: 40 0 0 0; font-style: italic; }</FooterText><Format><ColumnStartPDF></ColumnStartPDF><justify>center</justify><ColumnWidthPDF></ColumnWidthPDF><ShowInPDF>yes</ShowInPDF><ShowInHTML>no</ShowInHTML></Format></PageFooter></PageFooters><DisplayOrders><DisplayOrder><ColumnName>creation</ColumnName><OrderNumber>1</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>bom</ColumnName><OrderNumber>2</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>bomlabrl</ColumnName><OrderNumber>3</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>bomqty</ColumnName><OrderNumber>4</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>bomdur</ColumnName><OrderNumber>5</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>status</ColumnName><OrderNumber>6</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>proref</ColumnName><OrderNumber>7</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>prolabel</ColumnName><OrderNumber>8</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>lineqty</ColumnName><OrderNumber>9</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>bomid</ColumnName><OrderNumber>10</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>pid</ColumnName><OrderNumber>11</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>lineqty2</ColumnName><OrderNumber>12</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>sumline</ColumnName><OrderNumber>13</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>sumlineto</ColumnName><OrderNumber>14</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>proprice</ColumnName><OrderNumber>15</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>proprice2</ColumnName><OrderNumber>16</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>sumproprice</ColumnName><OrderNumber>17</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>supropriceto</ColumnName><OrderNumber>18</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>boto</ColumnName><OrderNumber>19</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>sumboto</ColumnName><OrderNumber>20</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>tot</ColumnName><OrderNumber>21</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>bom_product</ColumnName><OrderNumber>22</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>sell_price</ColumnName><OrderNumber>23</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>bom_product_cost_price</ColumnName><OrderNumber>24</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>bom_qty</ColumnName><OrderNumber>25</OrderNumber></DisplayOrder></DisplayOrders><Groups><Group><GroupName>REPORT_BODY</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders></GroupHeaders><GroupTrailers></GroupTrailers></Group><Group><GroupName>bom</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders><GroupHeader><GroupHeaderColumn>bom</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader><GroupHeader><GroupHeaderColumn>bomlabrl</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader><GroupHeader><GroupHeaderColumn>creation</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader><GroupHeader><GroupHeaderColumn>status</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader><GroupHeader><GroupHeaderColumn>tot</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader><GroupHeader><GroupHeaderColumn>bom_product</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader><GroupHeader><GroupHeaderColumn>bom_product_cost_price</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader><GroupHeader><GroupHeaderColumn>bom_qty</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom></GroupHeader></GroupHeaders><GroupTrailers></GroupTrailers></Group></Groups><Graphs></Graphs></Output></EntryForm></ReportQuery></Report>